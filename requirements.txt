# ========== 依赖冲突修复：必须放在最前面 ==========
# streamlit==1.29.0 要求: rich<14,>=10.14.0, markdown-it-py<3, pygments<3.0.0,>=2.13.0
# 这些版本必须严格锁定，避免其他包自动升级
rich==13.7.1
markdown-it-py<3
pygments<3.0.0,>=2.13.0

# ========== 核心框架 ==========
streamlit==1.29.0

# ========== 数据处理 ==========
pandas==2.1.4
numpy<2,>=1.19.3
scikit-learn==1.3.2
joblib==1.3.2

# ========== 化学信息学（RDKit） ==========
rdkit-pypi==2022.9.5

# ========== PyTorch 核心（使用官方预编译的 CPU 版本） ==========
torch==2.1.2+cpu
torchvision==0.16.2+cpu
torchaudio==2.1.2+cpu
--extra-index-url https://download.pytorch.org/whl/cpu

# ========== 图神经网络 ==========
--find-links https://data.pyg.org/whl/torch-2.1.0+cpu.html
torch-geometric==2.4.0

# ========== 可视化与图像 ==========
matplotlib==3.7.5
pillow==10.1.0
plotly>=6.5.0

# ========== 3D可视化 ==========
py3Dmol>=2.0.1

# ========== 蛋白质-配体相互作用分析（可选，某些云端环境可能无法安装）==========
# 如果云端环境安装失败，可以注释掉这一行，代码支持降级模式
plip>=2.2.0

# ========== 网络请求 ==========
requests>=2.31.0

# ========== 注意事项 ==========
# 【云端部署时遇到依赖冲突的解决方案】
#
# 方案1：使用 constraints.txt（推荐）
#   pip install -r requirements.txt --constraint constraints.txt
#
# 方案2：手动修复冲突
#   pip uninstall streamlit rich markdown-it-py pygments -y
#   pip install "rich==13.7.1" "markdown-it-py<3" "pygments<3.0.0,>=2.13.0" "streamlit==1.29.0"
#
# 方案3：分步安装（最可靠）
#   步骤1: pip install "rich==13.7.1" "markdown-it-py<3" "pygments<3.0.0,>=2.13.0"
#   步骤2: pip install "streamlit==1.29.0"
#   步骤3: pip install -r requirements.txt --no-deps
#   步骤4: pip install --force-reinstall -r requirements.txt
#
# 【PLIP 安装问题】
# PLIP 在某些云端环境（如 Streamlit Cloud）可能无法安装
# 如果安装失败，代码支持降级模式：PLIP 不可用时仍可使用 3D 可视化

