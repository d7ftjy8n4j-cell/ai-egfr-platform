# ========== 必须首先安装的依赖（强制版本锁定）==========
# 这些版本必须严格匹配，否则会导致streamlit运行失败

# 强制锁定rich版本（streamlit 1.29.0严格要求rich<14）
rich==13.7.1

# 强制锁定markdown-it-py版本
markdown-it-py==2.2.0

# 强制锁定ipywidgets版本（必须在nglview之前）
ipywidgets==8.1.1

# ========== 核心框架 ==========
streamlit==1.29.0

# ========== 数据处理 ==========
pandas==2.1.4
numpy<2,>=1.19.3
scikit-learn==1.3.2
joblib==1.3.2

# ========== 化学信息学（RDKit）==========
rdkit-pypi==2022.9.5

# ========== PyTorch 核心（使用官方预编译的 CPU 版本）==========
--extra-index-url https://download.pytorch.org/whl/cpu
torch==2.1.2+cpu
torchvision==0.16.2+cpu
torchaudio==2.1.2+cpu

# ========== 图神经网络 ==========
--find-links https://data.pyg.org/whl/torch-2.1.0+cpu.html
torch-geometric==2.4.0

# ========== 可视化与图像 ==========
matplotlib==3.7.5
pillow==10.1.0
plotly==5.18.0

# ========== 网络请求与工具 ==========
requests==2.31.0

# ========== 系统依赖 ==========
setuptools==68.2.2

# ========== 3D可视化 ==========
py3Dmol==2.0.4
ipython_genutils==0.2.0

# 注意：以下包在Streamlit Cloud上会导致依赖冲突或编译失败，暂时禁用
# nglview>=3.0.3,<4.0.0
# plip==2.2.0  # 依赖openbabel，需要从源码编译
